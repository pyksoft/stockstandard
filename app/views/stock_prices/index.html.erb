<p id="notice"><%= notice %></p>

<h1>Stock Prices</h1>

<dl>
  <dt>Period</dt>
  <dd><%= pluralize @week_count, 'week' %></dd>

  <dt>Maximum High</dt>
  <dd><%= number_to_currency @maximum_high %></dd>

  <dt>Minimum Low</dt>
  <dd><%= number_to_currency @minimum_low %></dd>

  <dt>Average Price</dt>
  <dd><%= number_to_currency @average_close %></dd>

  <dt>Maximum Volume</dt>
  <dd><%= number_to_human @maximum_volume %></dd>

  <dt>Minimum Volume</dt>
  <dd><%= number_to_human @minimum_volume %></dd>

  <dt>Total Volume</dt>
  <dd><%= number_to_human @total_volume %></dd>

  <dt>Week of Maximum High</dt>
  <dd><%= @week_of_maximum_high.date.to_formatted_s(:long) %></dd>
  <dd><%= @week_of_maximum_high.high %></dd>
</dl>

<table>
  <thead>
    <tr>
      <th>Symbol</th>
      <th>Date</th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>Volume</th>
    </tr>
  </thead>

  <tbody>
    <% @stock_prices.each do |stock_price| %>
      <tr>
        <td><%= stock_price.symbol %></td>
        <td><%= stock_price.date %></td>
        <td><%= number_to_currency stock_price.open %></td>
        <td><%= number_to_currency stock_price.high %></td>
        <td><%= number_to_currency stock_price.low %></td>
        <td><%= number_to_currency stock_price.close %></td>
        <td><%= number_to_human stock_price.volume %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Stock Price', new_stock_price_path %>
